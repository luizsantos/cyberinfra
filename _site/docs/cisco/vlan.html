<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="generator" content="Jekyll">

  <title>CyberInfra</title>

  <link rel="stylesheet" href="/css/main.css">
  
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>CyberInfra | Sistemas Operacionais, Redes de Computadores, Cibersegurança…</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="CyberInfra" />
<meta name="author" content="Luiz Arthur Feitosa dos Santos" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Sistemas Operacionais, Redes de Computadores, Cibersegurança…" />
<meta property="og:description" content="Sistemas Operacionais, Redes de Computadores, Cibersegurança…" />
<link rel="canonical" href="http://localhost:4000/docs/cisco/vlan" />
<meta property="og:url" content="http://localhost:4000/docs/cisco/vlan" />
<meta property="og:site_name" content="CyberInfra" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Luiz Arthur Feitosa dos Santos"},"url":"http://localhost:4000/docs/cisco/vlan","@type":"WebPage","description":"Sistemas Operacionais, Redes de Computadores, Cibersegurança…","headline":"CyberInfra","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WJPJ7DKEWG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WJPJ7DKEWG');
</script>

  
<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/">
    
    <h1>luiz@CyberInfra:~#</h1>
    </a>
    <h3>Sistemas Operacionais, Redes de Computadores, Cibersegurança...</h3>
    <div class="header-links">
      <a href="/docs"><h2 class="header-link">Documentos</h2></a>
<a href="/videos"><h2 class="header-link">Videos</h2></a>
<a href="/archive"><h2 class="header-link">Postagens</h2></a>
<a href="/about"><h2 class="header-link">Sobre</h2></a>
<!-- <a href="/atom.xml"><h2 class="header-link">RSS</h2></a> -->

    </div>
  </div>
</header>

    <div class="container">
      <section id="main_content">
        <article>
  <h1 id="guia-rápido-de-comandos-de-vlancisco">Guia rápido de comandos de VLAN/CISCO</h1>

<blockquote>
  <p><strong>UTFPR - Universidade Tecnológica Federal do Paraná, campus Campo Mourão</strong><br />
Autor: <strong>Prof. Dr. Luiz Arthur Feitosa dos Santos</strong><br />
E-mail: <strong><a href="mailto:luizsantos@utfpr.edu.br">luizsantos@utfpr.edu.br</a></strong></p>
</blockquote>

<hr />

<p>Uma função muito utilizada e importante dentro do conceito de <a href="https://youtu.be/dfuVBQsghJM">swithing</a> é a de  <a href="https://pt.wikipedia.org/wiki/Virtual_LAN">VLAN</a>. De forma resumida as VLANs aumentam o poder de organização e segmentação das redes em nível de enlace, melhorando seu desempenho e segurança. Os vídeos a seguir apresentam em mais detalhes tanto a ideia de VLAN, quanto os conceitos de <em>switch</em>, que são primordiais para entender VLAN:</p>

<p>Vídeo a respeito de conceitos de <em>switchig</em>:</p>

<p><a href="http://www.youtube.com/watch?v=dfuVBQsghJM" title="Switching"><img src="http://img.youtube.com/vi/dfuVBQsghJM/0.jpg" alt="VLAN" /></a></p>

<p>Vídeo a respeito de VLAN:</p>

<p><a href="http://www.youtube.com/watch?v=puZToHD-F8o" title="VLAN"><img src="http://img.youtube.com/vi/puZToHD-F8o/0.jpg" alt="VLAN" /></a></p>

<p>Como apresentado no vídeo anterior, de forma geral, VLAN é a capacidade de subdividir um <em>switch</em> em várias LANs virtuais, pois fisicamente todas as portas do <em>switch</em> formam uma única LAN física, mas através do software/algoritmo empregado no <em>switch</em>, é possível separar as portas para formar mais que uma rede - só que virtualmente. Isso é muito útil, principalmente para organizar redes (ex. separar setores de empresas), por questões de segurança e desempenho.</p>

<h1 id="guia-vlancisco">Guia VLAN/CISCO:</h1>

<p>A seguir é apresentado um guia rápido de comandos para realizar configurações básicas em VLANs com <em>switches</em> CISCO.</p>

<blockquote>
  <p>Tal guia já apresenta os comandos com valores preenchidos, é claro que esses valores provavelmente mudam para cada rede.</p>
</blockquote>

<h2 id="criar-vlan-e-adicionar-portas">Criar VLAN e adicionar portas:</h2>

<p>Provavelmente as operações mais básicas no gerenciamento de VLAN é criar novas VLAN (além da VLAN padrão) e atribuir/atrelar portas do <em>switch</em> à essas VLANs.</p>

<h3 id="criando-vlan">Criando VLAN:</h3>

<p>Para criar uma VLAN em <em>switches</em> CISCO, basta utilizar o comando <code class="language-plaintext highlighter-rouge">vlan</code>, no terminal de administração do <em>switch</em>.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch&gt;</span><span class="nb">enable</span>
<span class="gp">Switch#</span>conf t
<span class="go">Enter configuration commands, one per line. End with CNTL/Z.
</span><span class="gp">Switch(config)#</span>vlan 20
<span class="gp">Switch(config-vlan)#</span>name estudantes
<span class="gp">Switch(config-vlan)#</span>end
<span class="gp">Switch#</span><span class="w">
</span></code></pre></div></div>

<h3 id="adicionando-portas-para-uma-vlan">Adicionando portas para uma VLAN:</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch#</span>conf t
<span class="go">Enter configuration commands, one per line. End with CNTL/Z.
</span><span class="gp">Switch(config)#</span>interface f0/1
<span class="gp">Switch(config-if)#</span>switchport mode access
<span class="gp">Switch(config-if)#</span>switchport access vlan 20
<span class="gp">Switch(config-if)#</span>interface f0/2
<span class="gp">Switch(config-if)#</span>switchport mode access
<span class="gp">Switch(config-if)#</span>switchport access vlan 20
<span class="gp">Switch(config-if)#</span>end
<span class="gp">Switch#</span><span class="w">
</span></code></pre></div></div>

<h2 id="remover">Remover:</h2>

<h3 id="removendo-portas-de-uma-vlan">Removendo portas de uma VLAN:</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch#</span>conf t
<span class="go">Enter configuration commands, one per line. End with CNTL/Z.
</span><span class="gp">Switch(config)#</span>int f0/1
<span class="gp">Switch(config-if)#</span>no switchport access vlan
<span class="gp">Switch(config-if)#</span>end
<span class="gp">Switch#</span><span class="w">
</span></code></pre></div></div>

<h3 id="removendo-porta-de-uma-vlan-específica">Removendo porta de uma VLAN específica:</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch#</span>conf t
<span class="go">Enter configuration commands, one per line. End with CNTL/Z.
</span><span class="gp">Switch(config)#</span>int f0/1
<span class="gp">Switch(config-if)#</span>no switchport access vlan 20
<span class="gp">Switch(config-if)#</span>end
<span class="gp">Switch#</span><span class="w">
</span></code></pre></div></div>

<h3 id="removendo-uma-lan">Removendo uma LAN:</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch#</span>conf t
<span class="go">Enter configuration commands, one per line. End with CNTL/Z.
</span><span class="gp">Switch(config)#</span>no vlan 30
<span class="gp">Switch(config)#</span>end
<span class="gp">Switch#</span><span class="w">
</span></code></pre></div></div>

<h2 id="status-das-vlans">Status das VLANs:</h2>

<h3 id="mostrar-portas-das-vlans">Mostrar portas das VLANs:</h3>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">&gt;</span>show vlan brief
</code></pre></div></div>

<h3 id="apresentando-dados-de-uma-vlan">Apresentando dados de uma VLAN:</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch#</span>show vlan name estudantes
</code></pre></div></div>

<h2 id="comandos-avançados">Comandos avançados:</h2>

<h3 id="colocando-uma-porta-no-modo-trunk">Colocando uma porta no modo trunk:</h3>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch#</span>conf t
<span class="gp">Switch(config)#</span>interface f0/5
<span class="gp">Switch(config-if)#</span>switchport mode trunk
<span class="gp">Switch(config-if)#</span>switchport trunk native vlan 99
<span class="gp">Switch(config-if)#</span>switchport trunk allowed vlan 20,30
</code></pre></div></div>

<h3 id="configurando-roteamento-inter-vlan-em-um-único-link-de-roteamento-router-on-a-stick">Configurando roteamento inter-vlan em um único link de roteamento (router-on-a-stick):</h3>

<p>No Switch:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Switch(config)#</span>int f0/6
<span class="gp">Switch(config-if)#</span>switchport mode trunk
</code></pre></div></div>

<p>No roteador:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">Router&gt;</span><span class="nb">enable</span>
<span class="gp">Router#</span>conf t
<span class="go">Enter configuration commands, one per line. End with CNTL/Z.
</span><span class="gp">Router(config)#</span>int f0/1.20
<span class="gp">Router(config-subif)#</span>encapsulation dot1q 20
<span class="gp">Router(config-subif)#</span>ip address 10.0.0.254 255.0.0.0
<span class="gp">Router(config-subif)#</span>int f0/1.30
<span class="gp">Router(config-subif)#</span>encapsulation dot1q 30
<span class="gp">Router(config-subif)#</span>ip address 11.0.0.254 255.0.0.0
<span class="gp">Router(config-subif)#</span>int f0/1
<span class="gp">Router(config-if)#</span>no shut
</code></pre></div></div>

</article>
      </section>
    </div>
  </div>

   <footer>
  <a href="https://creativecommons.org/licenses/by-nc/3.0/deed.en_US">
    <span>
        <b>Luiz Arthur Feitosa dos Santos</b>
    </span>
    
    <span>© 2021</span>
  </a>
</footer>


</body>

</html>
