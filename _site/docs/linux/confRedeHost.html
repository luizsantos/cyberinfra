<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <meta name="generator" content="Jekyll">

  <title>CyberInfra</title>

  <link rel="stylesheet" href="/css/main.css">
  
  <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="ATOM Feed" /> <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>CyberInfra | Sistemas Operacionais, Redes de Computadores, Cibersegurança…</title>
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="CyberInfra" />
<meta name="author" content="Luiz Arthur Feitosa dos Santos" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Sistemas Operacionais, Redes de Computadores, Cibersegurança…" />
<meta property="og:description" content="Sistemas Operacionais, Redes de Computadores, Cibersegurança…" />
<link rel="canonical" href="http://localhost:4000/docs/linux/confRedeHost" />
<meta property="og:url" content="http://localhost:4000/docs/linux/confRedeHost" />
<meta property="og:site_name" content="CyberInfra" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="CyberInfra" />
<script type="application/ld+json">
{"url":"http://localhost:4000/docs/linux/confRedeHost","author":{"@type":"Person","name":"Luiz Arthur Feitosa dos Santos"},"headline":"CyberInfra","description":"Sistemas Operacionais, Redes de Computadores, Cibersegurança…","@type":"WebPage","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>
  
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-WJPJ7DKEWG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-WJPJ7DKEWG');
</script>

  
<body>
  <div id="wrapper">
    <header>
  <div>
    <a href="/">
    
    <h1>luiz@CyberInfra:~#</h1>
    </a>
    <h3>Sistemas Operacionais, Redes de Computadores, Cibersegurança...</h3>
    <div class="header-links">
      <a href="/docs"><h2 class="header-link">Documentos</h2></a>
<a href="/videos"><h2 class="header-link">Videos</h2></a>
<a href="/archive"><h2 class="header-link">Postagens</h2></a>
<a href="/about"><h2 class="header-link">Sobre</h2></a>
<!-- <a href="/atom.xml"><h2 class="header-link">RSS</h2></a> -->

    </div>
  </div>
</header>

    <div class="container">
      <section id="main_content">
        <article>
  <h1 id="configuração-básica-de-rede-em-hosts-linux">Configuração básica de rede em <em>hosts</em> Linux</h1>

<p>Uma tarefa muito corriqueira para qualquer administrador de rede é a configuração de <em>hosts</em> na rede, de forma que este acesse a rede local e principalmente à Internet.</p>

<h2 id="o-que-é-necessário-configurar-para-a-rede-funcionar">O que é necessário configurar para a rede funcionar?</h2>

<p>A configuração de um <em>host</em> na rede, normalmente se dá por três passos básico, sendo esses:</p>

<ol>
  <li>Configuração do <strong>IP e máscara de rede</strong>, isso permite que o <em>host</em> acesse a rede local;</li>
  <li>Configuração da <strong>rota padrão</strong>, que permitirá que o <em>host</em> acesse outras redes, tal como a Internet;</li>
  <li>Configuração do IP do servidor ou <strong>servidores DNS</strong>, isso possibilitará que o <em>host</em> acesse <em>hosts</em> através de nomes e não endereços IPs - já que é bem mais fácil lembrar de nomes do que IPs.</li>
</ol>

<p>Com o passo 1, é possível acessar a rede local, com o passo 2 é possível acessar outras redes e com o passo 3 é possível acessar <em>hosts</em> utilizando nomes, tal como www.google.com.br.</p>

<blockquote>
  <p><strong>Atenção:</strong> O primeiro passo é obrigatório se você quiser acessar a rede local. Já o passo 2 e 3 são opcionais! Executando apenas o passo 1 e passo 2 corretamente, você já pode acessar outras redes, como por exemplo a Internet, mas somente através do uso de endereços IP, o que a maioria das pessoas normalmente não fazem. Assim, é quase obrigatório realizar também o terceiro passo, para só então as pessoas considerem que o <em>host</em> esteja conectado corretamente na rede/Internet.</p>
</blockquote>

<h2 id="configuração-manual-ou-automática">Configuração manual ou automática?</h2>

<p>Há duas formas de realizar os três passos de configuração de rede citados anteriormente:</p>
<ol>
  <li><strong>Estático</strong>: neste as configurações são feitas manualmente, pelo usuário/administrador do sistema. Então, o usuário/administrador do <em>host</em> deve ter conhecimento prévio da rede, para saber quais endereços utilizar durante a configuração do <em>host</em>;</li>
  <li><strong>Automático</strong>: utilizando esse método o computador será configurado automaticamente por outro computador da rede. Normalmente tal configuração vem via servidor DHCP/BOOTP, pelo roteador da rede ou ponto de acesso sem fio. Neste tipo de configuração o usuário não precisa saber dos endereços de rede, pois isso é feito “magicamente” para ele.</li>
</ol>

<p>É importante perceber que a maioria dos <em>hosts</em> atualmente têm sua configuração de rede feita de forma automática, via DHCP. Entretanto, <strong>bons administradores de rede, devem saber configurar <em>hosts</em> manualmente</strong> (não só via DHCP), pois isso pode ser vital durante a resolução de problemas. Além do que, muitos equipamentos quem compõem a infraestrutura das redes são preferencialmente, se não obrigatoriamente configurados com o método manual (devido à questões administrativas, de segurança, etc).</p>

<h2 id="configuração-permanente-ou-temporária">Configuração permanente ou temporária?</h2>

<p>Sistemas UNIX-Like, permitem ainda duas formas de configuração de rede:</p>
<ol>
  <li><strong>Volátil</strong>: nesta, toda configuração feita é perdida se o <em>host</em> for reiniciado (ligado/desligado). É uma configuração “temporária”, que pode ser mais indicada/utilizada para testes;</li>
  <li><strong>Não volátil</strong>: nesta, a configuração persiste mesmo que o <em>host</em> seja desligado e religado. Este tipo de configuração é realizada em arquivos que ficam armazenados nos <em>hosts</em> da rede.</li>
</ol>

<blockquote>
  <p>A configuração chamada aqui de <strong>não volátil</strong>, também é denominada de estática ou via arquivo, mas ela pode ser utilizada tanto para configurar IPs estáticos, quanto automáticos/dinâmicos. Cuidado com a confusão nos termos… :-p</p>
</blockquote>

<p>Atualmente, um problema que existe na configuração <strong>não volátil</strong> em <em>hosts</em> Linux, é que cada distribuição Linux pode fazer isso de uma forma diferente da outra, e pior, a configuração pode mudar de versão para versão, dentro da mesma distribuição. É claro que essa falta de padronização geralmente causa confusão na hora de configurar <em>hosts</em> Linux.</p>

<p>Visto as possibilidades de configurações de rede para <em>hosts</em> Linux, agora serão apresentados os comandos e arquivos que permitem efetivar essas configurações.</p>

<blockquote>
  <p><strong>Atenção!!!</strong> normalmente a tarefa de configuração de rede requer privilégios de administrador, ou seja você deve ser <strong>root</strong> para realizar a configuração. Atualmente isso pode ser feito também com o auxilio do comando <code class="language-plaintext highlighter-rouge">sudo</code>.</p>
</blockquote>

<h3 id="configurando-ipmáscara-com-o-comando-ifconfig">Configurando IP/Máscara com o comando <code class="language-plaintext highlighter-rouge">ifconfig</code></h3>

<p>Tradicionalmente sistemas Like-UNIX utilizam o comando <code class="language-plaintext highlighter-rouge">ifconfig</code>, para configurar o endereço IP e máscara de rede de uma dada placa de rede. Os parâmetros e opções mais comuns do comando <code class="language-plaintext highlighter-rouge">ifconfig</code> são:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">ifconfig</code> - apresenta a configuração de todas as placas de rede ativas do <em>host</em>.</li>
  <li><code class="language-plaintext highlighter-rouge">ifconfig -a</code> - apresenta a configuração de todas as placas de rede do <em>host</em>, inclusive as que não estiverem ativas.</li>
  <li><code class="language-plaintext highlighter-rouge">ifconfig eth0</code> - apresenta a configuração apenas da placa de rede, neste caso foi utilizada como exemplo a <code class="language-plaintext highlighter-rouge">eth0</code>, mas pode ser outra placa. A descoberta do nome das placas de rede pode ser feita utilizando o comando <code class="language-plaintext highlighter-rouge">ifconfig</code>, sem nenhuma opção ou com <code class="language-plaintext highlighter-rouge">-a</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ifconfig eth0 172.16.1.1 netmask 255.255.255.0</code> - atribui um IP e máscara de rede à placa de rede. No exemplo é atribuído o IP 172.16.1.1 com máscara classe C à placa <code class="language-plaintext highlighter-rouge">eth0</code>. Atenção, se a máscara a ser utilizada tiver a mesma classe do IP, não é necessário incluir <code class="language-plaintext highlighter-rouge">netmask</code> e a máscara, ou seja, o <code class="language-plaintext highlighter-rouge">ifconfig</code> fará isso automaticamente para você.</li>
  <li><code class="language-plaintext highlighter-rouge">ifconfig eth0 172.16.1.1/24</code> - mesmo que o anterior, mas utilizando notação CIDR. Alguns sistemas não suportam essa forma.</li>
  <li><code class="language-plaintext highlighter-rouge">ifconfig eth0 down</code> - desliga a placa de rede. Isso pode ser necessário durante alguma tarefa administrativa.</li>
  <li><code class="language-plaintext highlighter-rouge">ifconfig eth0 up</code> - liga a placa de rede.</li>
</ul>

<p>Há outras opções e parâmetros possíveis para o <code class="language-plaintext highlighter-rouge">ifconfig</code>, mas o básico que queremos por enquanto é isso!</p>

<blockquote>
  <p>O comando <code class="language-plaintext highlighter-rouge">ifconfig</code> foi descontinuado no Linux, todavia é muito comum ainda encontrar ele por ai e principalmente sistemas como os BSDs ainda utilizam o <code class="language-plaintext highlighter-rouge">ifconfig</code>, por isso é muito importante saber como utilizá-lo.</p>
</blockquote>

<h3 id="configurando-rotas-com-o-comando-route">Configurando rotas com o comando <code class="language-plaintext highlighter-rouge">route</code></h3>

<p>Depois de configurar o endereço IP é comum adicionar uma rota padrão, para que o <em>host</em> consiga acessar outras redes (Internet) e isso pode ser feito com o comando <code class="language-plaintext highlighter-rouge">route</code>. Para configuração básica de rotas, as opções e parâmetros mais utilizados para o comando <code class="language-plaintext highlighter-rouge">route</code> são:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">route</code> - apresenta as rotas presente no <em>host</em>.</li>
  <li><code class="language-plaintext highlighter-rouge">route -n</code> - mesmo que o anterior, mas apresenta números e não nomes, ou seja, não tenta converter IPs de <em>hosts</em> em nomes, nem dá nome as portas ativas no <em>host</em>. Isso normalmente apresenta o resultado/saída do comando de forma mais rápida, já que não é necessário esperar pela conversão de números em nomes.</li>
  <li><code class="language-plaintext highlighter-rouge">route add default gw 172.16.1.254</code> - adiciona uma rota padrão, neste exemplo o IP do roteador padrão é o 172.16.1.254.</li>
  <li><code class="language-plaintext highlighter-rouge">route del default</code> - apaga a rota padrão. Caso mais de uma rota padrão esteja presente, é possível complementar o comando informando qual rota será deletada, tal como: <code class="language-plaintext highlighter-rouge">route del default gw 172.16.1.254</code>.</li>
</ul>

<p>O comando <code class="language-plaintext highlighter-rouge">route</code>, também permite adicionar rotas para rede (<code class="language-plaintext highlighter-rouge">--net</code>) e <em>hosts</em> (<code class="language-plaintext highlighter-rouge">--host</code>), mas não abordaremos isso aqui.</p>

<blockquote>
  <p>O comando <code class="language-plaintext highlighter-rouge">route</code> foi descontinuado no Linux. Todavia, é muito comum encontrá-lo por ai e assim como o <code class="language-plaintext highlighter-rouge">ifconfig</code>, os BSDs ainda utilizam o <code class="language-plaintext highlighter-rouge">route</code>.</p>
</blockquote>

<h3 id="configurando-ipmáscararotas-com-o-comando-ip">Configurando IP/Máscara/rotas com o comando <code class="language-plaintext highlighter-rouge">ip</code></h3>

<p>Como mencionado anteriormente os comandos <code class="language-plaintext highlighter-rouge">ifconfig</code> e <code class="language-plaintext highlighter-rouge">route</code> foram descontinuados no Linux. Atualmente o comando padrão para configuração de IP, máscara de rede e rotas no Linux é o comando <code class="language-plaintext highlighter-rouge">ip</code>. Então, o <code class="language-plaintext highlighter-rouge">ip</code> substitui os comandos <code class="language-plaintext highlighter-rouge">ifconfig</code> e <code class="language-plaintext highlighter-rouge">route</code>, entretanto o <code class="language-plaintext highlighter-rouge">ip</code> não é utilizado para configurar o DNS.</p>

<p>Os principais exemplos de uso de opções e parâmetros utilizados com o comando <code class="language-plaintext highlighter-rouge">ip</code>, são:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">ip address</code> ou <code class="language-plaintext highlighter-rouge">ip address show</code> - apresenta a configuração de todas as placas de rede do <em>host</em>.</li>
  <li><code class="language-plaintext highlighter-rouge">ip route</code> ou <code class="language-plaintext highlighter-rouge">ip route show</code> - apresenta as rotas presente no <em>host</em>. Neste também é possível utilizar a opção <code class="language-plaintext highlighter-rouge">-N</code>, para mostrar número ao invés de nomes, tal como: <code class="language-plaintext highlighter-rouge">ip -N route</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ip address add 172.16.1.1/24 dev eth0</code> - atribui um IP e máscara de rede à placa de rede. No exemplo é atribuído o IP 172.16.1.1 com máscara classe C à placa <code class="language-plaintext highlighter-rouge">eth0</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">ip address show dev eth0</code> - apresenta a configuração apenas da placa de rede, neste caso foi utilizada como exemplo a <code class="language-plaintext highlighter-rouge">eth0</code>, mas pode ser outra placa.</li>
  <li><code class="language-plaintext highlighter-rouge">ip address del 172.16.1.1/24 dev eth0</code> - Apaga um IP que foi atribuído a uma dada placa de rede. No exemplo foi deletado o IP 172.16.1.1/24, que havia sido atribuído à placa de rede <code class="language-plaintext highlighter-rouge">eth0</code>. <strong>Atenção, o comando <code class="language-plaintext highlighter-rouge">ip</code> não substitui os IPs atribuídos previamente à uma placa de rede</strong> (que era o comportamento do <code class="language-plaintext highlighter-rouge">ifconfig</code>). Então, se você atribuir um IP e depois o outro, vão ficar os dois IPs atribuídos naquela placa de rede, por isso é importante a opção <code class="language-plaintext highlighter-rouge">del</code>, assim é possível remover um IP indesejado/incorreto. Exemplo: <code class="language-plaintext highlighter-rouge">ip a a 172.16.1.1/24 dev eth0; ip a a 192.168.1.2/24 dev eth0; ip a a 172.16.1.2/24 dev eth0;</code>, o <em>host</em> onde foram executados esses comando, terá três IPs: 172.16.1.1, 172.16.1.2 e 192.168.1.2. Utilizar vários IPs em uma placa de rede não é tão comum.</li>
  <li><code class="language-plaintext highlighter-rouge">ip route add default via 172.16.1.254</code> - adiciona uma rota padrão, neste exemplo o IP do roteador padrão é o 172.16.1.254.</li>
  <li><code class="language-plaintext highlighter-rouge">ip route del default</code> - apaga a rota padrão.</li>
  <li><code class="language-plaintext highlighter-rouge">ip link show</code> - apresenta o status das placas de rede.</li>
  <li><code class="language-plaintext highlighter-rouge">ip link set dev eth0 down</code> - desliga a placa de rede. Isso pode ser necessário durante alguma tarefa administrativa.</li>
  <li><code class="language-plaintext highlighter-rouge">ip link set dev eth0 up</code> - liga a placa de rede.</li>
</ul>

<p>Há outras opções do comando <code class="language-plaintext highlighter-rouge">ip</code>, mas a configuração básica de <em>hosts</em> na rede normalmente requer apenas o que foi apresentado anteriormente.</p>

<h3 id="configurando-dns-com-o-arquivo-etcresolvconf">Configurando DNS com o arquivo <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code></h3>

<p>Para que <em>hosts</em> consigam acessar redes/Internet utilizando nomes, é necessário informar ao <em>host</em> qual é o IP do servidor DNS que ele deve utilizar para converter nomes em IPs. Assim, para realizar essa tarefa em <em>hosts</em> Like-UNIX, basta criar/editar o arquivo <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code> e incluir nele a opção <code class="language-plaintext highlighter-rouge">nameserver</code> seguida do IP do servidor DNS. Isso pode ser feito da seguinte forma:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">echo nameserver 8.8.8.8 &gt; /etc/resolv.conf</code> - informa que o servidor de nomes é o Google (8.8.8.8). Neste exemplo foi utilizado o 8.8.8.8, mas você pode utilizar outros servidores. Tal comando sobrescreve o conteúdo do arquivo <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">echo nameserver 172.16.1.254 &gt;&gt; /etc/resolv.conf</code> - mesmo que o anterior, mas não sobrescreve o arquivo, mas sim adiciona o conteúdo no final do arquivo (<code class="language-plaintext highlighter-rouge">&gt;&gt;</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">cat /etc/resolv.conf</code> - apresenta o conteúdo do arquivo <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>, isso é útil para verificar qual é a configuração atual presente no arquivo.</li>
</ul>

<p>Normalmente no Linux é possível configurar até 2 servidores DNS, o primeiro que aparecer no arquivo é chamado de primário e o seguinte é o secundário. O Linux primeiro tentará resolver o nome via com o servidor DNS primário, se esse falhar ele utilizará o secundário. Alguns Linux permitem configurar até mais que dois servidores DNS para a resolução de nomes. No exemplo a seguir o arquivo de configuração <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>, tem como servidor primário o 8.8.4.4 e o secundário é o 1.1.1.1, veja:</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span><span class="nb">cat</span> /etc/resolv.conf
<span class="go">
nameserver 8.8.4.4
nameserver 1.1.1.1
</span></code></pre></div></div>
<p>Aqui, foi apresentado o comando <code class="language-plaintext highlighter-rouge">echo</code> para inserir conteúdos no arquivo <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code> e <code class="language-plaintext highlighter-rouge">cat</code> para ver o conteúdo. Entretanto, também é possível criar/editar esse arquivo utilizando <strong>editores de texto</strong>, tais como o <code class="language-plaintext highlighter-rouge">vi</code> ou o <code class="language-plaintext highlighter-rouge">nano</code>.</p>

<p>Há outras configurações/opções possíveis para o arquivo <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>, mas não vamos abordá-las aqui.</p>

<blockquote>
  <p>Atenção, todos os sistemas operacionais like-UNIX utilizam o mesmo arquivo/método para configurar o servidor DNS no cliente, isso é padrão!</p>
</blockquote>

<h3 id="configurando-a-rede-automaticamente-via-dhcp-utilizando-o-comando-dhcpcd">Configurando a rede automaticamente via DHCP utilizando o comando <code class="language-plaintext highlighter-rouge">dhcpcd</code></h3>

<p>Atualmente quase todos os <em>hosts</em> são configurados para acessar a rede de forma automática, via DHCP. Isso é possível, pois a maioria das redes possuem equipamentos como roteadores e APs, que por sua vez são normalmente equipados com servidores DHCP. Assim, o servidor DHCP fornece para os clientes da rede, configurações como: IP do <em>host</em>, máscara de rede, rota padrão e DNS.</p>

<p>Utilizar configuração via DHCP é muito prático, fácil e evita erros de configuração (ex. IPs duplicados). Isso facilita muito o trabalho do administrador de rede e também permite que redes sem administradores funcionem sem grandes problemas, mesmo que o cliente/usuário da rede não tenha profundo conhecimento em redes de computadores.</p>

<p>Atualmente o comando mais utilizado para se obter configurações de rede no cliente, via DHCP deve ser o <code class="language-plaintext highlighter-rouge">dhclient</code>. Todavia aqui iremos apresentar o <code class="language-plaintext highlighter-rouge">dhcpcd</code>, que também é outro comando muito utilizado em Linux e BSDs.</p>

<blockquote>
  <p>Não há grandes diferenças entre esses comandos, então se você aprender trabalhar com um desses não terá problemas em utilizar o outro!</p>
</blockquote>

<p>Para utilizar o <code class="language-plaintext highlighter-rouge">dhcpcd</code> precisamos saber basicamente o seguinte:</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">dhcpcd</code> - pede configurações de rede para um servidor DHCP.</li>
  <li><code class="language-plaintext highlighter-rouge">dhcpcd eth0</code> - o mesmo que o anterior, mas especifica a placa de rede que vai receber tal configuração de rede via DHCP. No exemplo foi utilizada a placa de rede <code class="language-plaintext highlighter-rouge">eth0</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">dhcpcd -k eth0</code> - pede para desligar/remover as configurações feitas via DHCP da placa de rede <code class="language-plaintext highlighter-rouge">eth0</code>.</li>
</ul>

<blockquote>
  <p>Há outras opções para o <code class="language-plaintext highlighter-rouge">dhcpcd</code>, mas vamos parar por aqui.</p>
</blockquote>

<p>Após executar o comando <code class="language-plaintext highlighter-rouge">dhcpcd</code> o host cliente envia um pacote DHCP para a rede, o servidor recebe esse pacote e responde com a configuração da rede para este cliente. O cliente recebe a configuração enviada pelo servidor, e realiza as configurações. Após isso, o host cliente deve conseguir acessar a rede. É possível verificar essa configuração posteriormente com os comandos <code class="language-plaintext highlighter-rouge">ifconfig</code>, <code class="language-plaintext highlighter-rouge">route</code>, <code class="language-plaintext highlighter-rouge">ip</code> e vendo o conteúdo do <code class="language-plaintext highlighter-rouge">/etc/resolv.conf</code>.</p>

<p>Os comando de cliente DHCP (<code class="language-plaintext highlighter-rouge">dhclient</code>, <code class="language-plaintext highlighter-rouge">dhcpcd</code>, etc), normalmente continuam em execução após serem executados, isso é necessário, pois o servidor DHCPC pode exigir que o cliente renove o empréstimo do IP de tempos em tempos.</p>

<h2 id="exemplo-prático">Exemplo prático</h2>

<p>A seguir, são apresentadas algumas possibilidades de configurações voláteis e não voláteis para <em>hosts</em> Linux. Isso será feito com utilizando-se como exemplo o cenário de rede da Figura X a seguir:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><img src="img/cenarioRede.png" alt="rede" /></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">Figura 1 - Cenário de rede</td>
    </tr>
  </tbody>
</table>

<h1 id="ifconfigroute">ifconfig/route</h1>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig
<span class="gp">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="gp">        inet6 fe80::e09c:58ff:fe14:c687  prefixlen 64  scopeid 0x20&lt;link&gt;</span><span class="w">
</span><span class="go">        ether e2:9c:58:14:c6:87  txqueuelen 1000  (Ethernet)
        RX packets 16  bytes 1312 (1.3 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 8  bytes 656 (656.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

</span><span class="gp">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;</span><span class="w">  </span>mtu 65536
<span class="go">        inet 127.0.0.1  netmask 255.0.0.0
</span><span class="gp">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><span class="w">
</span><span class="go">        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.0.0.0        0.0.0.0         255.255.255.0   U     0      0        0 eth0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>route add default gw 10.0.0.254
<span class="gp">root@Host-1:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.0.0.254      0.0.0.0         UG    0      0        0 eth0
10.0.0.0        0.0.0.0         255.255.255.0   U     0      0        0 eth0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>ping 10.0.0.254
<span class="go">PING 10.0.0.254 (10.0.0.254) 56(84) bytes of data.
64 bytes from 10.0.0.254: icmp_seq=1 ttl=64 time=0.567 ms
64 bytes from 10.0.0.254: icmp_seq=2 ttl=64 time=0.370 ms
^C
--- 10.0.0.254 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1017ms
rtt min/avg/max/mdev = 0.370/0.468/0.567/0.098 ms
</span><span class="gp">root@Host-1:/#</span><span class="w"> </span>ping www.google.com.br
<span class="go">ping: www.google.com.br: Temporary failure in name resolution
</span><span class="gp">root@Host-1:/#</span><span class="w"> </span><span class="nb">echo</span> <span class="s2">"nameserver 8.8.8.8"</span> <span class="o">&gt;</span> /etc/resolv.conf
<span class="gp">root@Host-1:/#</span><span class="w"> </span>ping www.google.com.br
<span class="go">PING www.google.com.br (142.250.219.195) 56(84) bytes of data.
64 bytes from gru06s64-in-f3.1e100.net (142.250.219.195): icmp_seq=1 ttl=117 time=14.5 ms
64 bytes from gru06s64-in-f3.1e100.net (142.250.219.195): icmp_seq=2 ttl=117 time=17.2 ms
^C
--- www.google.com.br ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1001ms
rtt min/avg/max/mdev = 14.457/15.812/17.167/1.355 ms
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig eth0
<span class="gp">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="go">        inet 10.0.0.1  netmask 255.255.255.0  broadcast 10.0.0.255
</span><span class="gp">        inet6 fe80::e09c:58ff:fe14:c687  prefixlen 64  scopeid 0x20&lt;link&gt;</span><span class="w">
</span><span class="go">        ether e2:9c:58:14:c6:87  txqueuelen 1000  (Ethernet)
        RX packets 20  bytes 1592 (1.5 KB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 10  bytes 796 (796.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig eth0 down
<span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig
<span class="gp">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;</span><span class="w">  </span>mtu 65536
<span class="go">        inet 127.0.0.1  netmask 255.0.0.0
</span><span class="gp">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><span class="w">
</span><span class="go">        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig <span class="nt">-a</span>
<span class="gp">eth0: flags=4098&lt;BROADCAST,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="go">        inet 10.0.0.1  netmask 255.255.255.0  broadcast 10.0.0.255
        ether e2:9c:58:14:c6:87  txqueuelen 1000  (Ethernet)
        RX packets 20  bytes 1592 (1.5 KB)
        RX errors 0  dropped 2  overruns 0  frame 0
        TX packets 10  bytes 796 (796.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

</span><span class="gp">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;</span><span class="w">  </span>mtu 65536
<span class="go">        inet 127.0.0.1  netmask 255.0.0.0
</span><span class="gp">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><span class="w">
</span><span class="go">        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig eth0 10.0.0.1 netmask 255.255.255.0 broadcast 10.0.0.255 up
<span class="gp">root@Host-1:/#</span><span class="w"> </span>ifconfig eth0
<span class="gp">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="go">        inet 10.0.0.1  netmask 255.255.255.0  broadcast 10.0.0.255
</span><span class="gp">        inet6 fe80::e09c:58ff:fe14:c687  prefixlen 64  scopeid 0x20&lt;link&gt;</span><span class="w">
</span><span class="go">        ether e2:9c:58:14:c6:87  txqueuelen 1000  (Ethernet)
        RX packets 20  bytes 1592 (1.5 KB)
        RX errors 0  dropped 2  overruns 0  frame 0
        TX packets 16  bytes 1312 (1.3 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
10.0.0.0        0.0.0.0         255.255.255.0   U     0      0        0 eth0
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-1:/#</span><span class="w"> </span>route add default gw 10.0.0.254
<span class="gp">root@Host-1:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         10.0.0.254      0.0.0.0         UG    0      0        0 eth0
10.0.0.0        0.0.0.0         255.255.255.0   U     0      0        0 eth0
</span></code></pre></div></div>

<h1 id="ip">ip</h1>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address
<span class="gp">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
<span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
</span><span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
    inet6 fe80::387b:6eff:fe85:16c8/64 scope link
       valid_lft forever preferred_lft forever
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address add 10.0.0.2/24 dev eth0
<span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address show dev eth0
<span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.2/24 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::387b:6eff:fe85:16c8/64 scope link
       valid_lft forever preferred_lft forever
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip route show
<span class="go">10.0.0.0/24 dev eth0 proto kernel scope link src 10.0.0.2
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip route add default via 10.0.0.254
<span class="go">
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip route show
<span class="go">default via 10.0.0.254 dev eth0
10.0.0.0/24 dev eth0 proto kernel scope link src 10.0.0.2
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip route del default
<span class="gp">root@Host-2:/#</span><span class="w"> </span>ip route
<span class="go">10.0.0.0/24 dev eth0 proto kernel scope link src 10.0.0.2
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address add 172.16.2.1/24 dev eth0
<span class="go">
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address show dev eth0
<span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.2/24 scope global eth0
       valid_lft forever preferred_lft forever
    inet 172.16.2.1/24 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::387b:6eff:fe85:16c8/64 scope link
       valid_lft forever preferred_lft forever
</span></code></pre></div></div>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address show dev eth0
<span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.2/24 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::387b:6eff:fe85:16c8/64 scope link
       valid_lft forever preferred_lft forever
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address del 172.16.2.1/24 dev eth0
<span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address show dev eth0
<span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.2/24 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::387b:6eff:fe85:16c8/64 scope link
       valid_lft forever preferred_lft forever
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip <span class="nb">link </span>show
<span class="gp">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
<span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN mode DEFAULT group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip <span class="nb">link</span>
<span class="gp">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
<span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span class="gp">14: eth0: &lt;BROADCAST,MULTICAST&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state DOWN mode DEFAULT group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip <span class="nb">link set </span>dev eth0 up
<span class="gp">root@Host-2:/#</span><span class="w"> </span>ip <span class="nb">link</span>
<span class="gp">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
<span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
</span><span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN mode DEFAULT group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span>ip address
<span class="gp">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
<span class="go">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host
       valid_lft forever preferred_lft forever
</span><span class="gp">14: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt;</span><span class="w"> </span>mtu 1500 qdisc fq_codel state UNKNOWN group default qlen 1000
<span class="go">    link/ether 3a:7b:6e:85:16:c8 brd ff:ff:ff:ff:ff:ff
    inet 10.0.0.2/24 scope global eth0
       valid_lft forever preferred_lft forever
    inet6 fe80::387b:6eff:fe85:16c8/64 scope link
    valid_lft forever preferred_lft forever
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-2:/#</span><span class="w"> </span>ping 10.0.0.254
<span class="go">PING 10.0.0.254 (10.0.0.254) 56(84) bytes of data.
64 bytes from 10.0.0.254: icmp_seq=1 ttl=64 time=0.292 ms
64 bytes from 10.0.0.254: icmp_seq=2 ttl=64 time=0.317 ms
^C
--- 10.0.0.254 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1014ms
rtt min/avg/max/mdev = 0.292/0.304/0.317/0.012 ms
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span>ping 192.168.122.1
<span class="go">ping: connect: Network is unreachable
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span>route add default gw 10.0.0.254
<span class="gp">root@Host-2:/#</span><span class="w"> </span>ping 192.168.122.1
<span class="go">PING 192.168.122.1 (192.168.122.1) 56(84) bytes of data.
64 bytes from 192.168.122.1: icmp_seq=1 ttl=63 time=0.543 ms
64 bytes from 192.168.122.1: icmp_seq=2 ttl=63 time=0.643 ms
^C
--- 192.168.122.1 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1022ms
rtt min/avg/max/mdev = 0.543/0.593/0.643/0.050 ms
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span>ping www.google.com.br
<span class="go">ping: www.google.com.br: Temporary failure in name resolution
</span><span class="gp">root@Host-2:/#</span><span class="w"> </span><span class="nb">echo</span> <span class="s2">"nameserver 8.8.8.8"</span> <span class="o">&gt;</span> /etc/resolv.conf
<span class="gp">root@Host-2:/#</span><span class="w"> </span>ping www.google.com.br
<span class="go">PING www.google.com.br (142.250.219.195) 56(84) bytes of data.
64 bytes from gru06s64-in-f3.1e100.net (142.250.219.195): icmp_seq=1 ttl=117 time=15.4 ms
64 bytes from gru06s64-in-f3.1e100.net (142.250.219.195): icmp_seq=2 ttl=117 time=17.8 ms
^C
--- www.google.com.br ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
rtt min/avg/max/mdev = 15.354/16.563/17.772/1.209 ms
</span></code></pre></div></div>

<h2 id="dhcp">dhcp</h2>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-3:/#</span><span class="w"> </span>ifconfig
<span class="gp">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="gp">        inet6 fe80::8ce0:e3ff:fe4b:23da  prefixlen 64  scopeid 0x20&lt;link&gt;</span><span class="w">
</span><span class="go">        ether 8e:e0:e3:4b:23:da  txqueuelen 1000  (Ethernet)
        RX packets 613  bytes 45704 (45.7 KB)
        RX errors 0  dropped 5  overruns 0  frame 0
        TX packets 13  bytes 1006 (1.0 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

</span><span class="gp">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;</span><span class="w">  </span>mtu 65536
<span class="go">        inet 127.0.0.1  netmask 255.0.0.0
</span><span class="gp">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><span class="w">
</span><span class="go">        loop  txqueuelen 1000  (Local Loopback)
        RX packets 0  bytes 0 (0.0 B)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 0  bytes 0 (0.0 B)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

</span><span class="gp">root@Host-3:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
</span><span class="gp">root@Host-3:/#</span><span class="w"> </span><span class="nb">cat</span> /etc/resolv.conf
<span class="gp">root@Host-3:/#</span><span class="w">
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-3:/#</span><span class="w"> </span>dhcpcd eth0
<span class="go">DUID 00:04:4c:4c:45:44:00:36:32:10:80:34:b3:c0:4f:35:34:32
eth0: IAID e3:4b:23:da
eth0: soliciting a DHCP lease
eth0: soliciting an IPv6 router
eth0: offered 192.168.122.205 from 192.168.122.1
eth0: probing address 192.168.122.205/24
eth0: leased 192.168.122.205 for 3600 seconds
eth0: adding route to 192.168.122.0/24
eth0: adding default route via 192.168.122.1
forked to background, child pid 114
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-3:/#</span><span class="w"> </span>ifconfig eth0
<span class="gp">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="go">        inet 192.168.122.205  netmask 255.255.255.0  broadcast 192.168.122.255
</span><span class="gp">        inet6 fe80::8ce0:e3ff:fe4b:23da  prefixlen 64  scopeid 0x20&lt;link&gt;</span><span class="w">
</span><span class="go">        ether 8e:e0:e3:4b:23:da  txqueuelen 1000  (Ethernet)
        RX packets 673  bytes 50676 (50.6 KB)
        RX errors 0  dropped 5  overruns 0  frame 0
        TX packets 27  bytes 2527 (2.5 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

</span><span class="gp">root@Host-3:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
0.0.0.0         192.168.122.1   0.0.0.0         UG    213    0        0 eth0
192.168.122.0   0.0.0.0         255.255.255.0   U     213    0        0 eth0
</span><span class="gp">root@Host-3:/#</span><span class="w"> </span><span class="nb">cat</span> /etc/resolv.conf
<span class="gp">#</span><span class="w"> </span>Generated by resolvconf
<span class="go">nameserver 192.168.122.1
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-3:/#</span><span class="w"> </span>ping www.google.com.br
<span class="go">PING www.google.com.br (142.250.219.35) 56(84) bytes of data.
64 bytes from gru14s28-in-f3.1e100.net (142.250.219.35): icmp_seq=1 ttl=118 time=13.9 ms
64 bytes from gru14s28-in-f3.1e100.net (142.250.219.35): icmp_seq=2 ttl=118 time=14.7 ms
^C
--- www.google.com.br ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1002ms
rtt min/avg/max/mdev = 13.918/14.306/14.695/0.388 ms
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@Host-3:/#</span><span class="w"> </span>dhcpcd <span class="nt">-k</span> eth0
<span class="go">sending signal ALRM to pid 114
waiting for pid 114 to exit
</span><span class="gp">root@Host-3:/#</span><span class="w"> </span>ifconfig eth0
<span class="gp">eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;</span><span class="w">  </span>mtu 1500
<span class="gp">        inet6 fe80::8ce0:e3ff:fe4b:23da  prefixlen 64  scopeid 0x20&lt;link&gt;</span><span class="w">
</span><span class="go">        ether 8e:e0:e3:4b:23:da  txqueuelen 1000  (Ethernet)
        RX packets 697  bytes 52142 (52.1 KB)
        RX errors 0  dropped 5  overruns 0  frame 0
        TX packets 28  bytes 2869 (2.8 KB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

</span><span class="gp">root@Host-3:/#</span><span class="w"> </span>route <span class="nt">-n</span>
<span class="go">Kernel IP routing table
Destination     Gateway         Genmask         Flags Metric Ref    Use Iface
</span><span class="gp">root@Host-3:/#</span><span class="w"> </span><span class="nb">cat</span> /etc/resolv.conf
<span class="go">
</span><span class="gp">root@Host-3:/#</span><span class="w">
</span></code></pre></div></div>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">root@LinuxRouter-1:/#</span><span class="w"> </span>ifconfig eth0 10.0.0.254/24
<span class="gp">root@LinuxRouter-1:/#</span><span class="w"> </span>ip address add 192.168.122.254/24 dev eth1
<span class="gp">root@LinuxRouter-1:/#</span><span class="w"> </span>ip route add default via 192.168.122.1
<span class="gp">root@LinuxRouter-1:/#</span><span class="w"> </span><span class="nb">echo</span> <span class="s2">"nameserver 8.8.8.8"</span> <span class="o">&gt;</span> /etc/resolv.conf
<span class="gp">root@LinuxRouter-1:/#</span><span class="w"> </span><span class="nb">echo </span>1 <span class="o">&gt;</span> /proc/sys/net/ipv4/ip_forward
<span class="gp">root@LinuxRouter-1:/#</span><span class="w"> </span>iptables <span class="nt">-t</span> nat <span class="nt">-A</span> POSTROUTING <span class="nt">-o</span> eth1 <span class="nt">-j</span> MASQUERADE
<span class="go">
</span></code></pre></div></div>

<h1 id="referências">Referências</h1>

<ul>
  <li><a href="https://tldp.org/HOWTO/Linux+IPv6-HOWTO/ch05s02.html">https://tldp.org/HOWTO/Linux+IPv6-HOWTO/ch05s02.html</a></li>
</ul>

</article>
      </section>
    </div>
  </div>

   <footer>
  <a href="https://creativecommons.org/licenses/by-nc/3.0/deed.en_US">
    <span>
        <b>Luiz Arthur Feitosa dos Santos</b>
    </span>
    
    <span>© 2023</span>
  </a>
</footer>


</body>

</html>
